<!-- templates/documents/salary_slips_preview.html -->
<!doctype html>
<html>
<head>
  <meta charset="utf-8">
  <title>Salary Slips Preview</title>
  <style>
    /* Ensure each slip starts on a new page when printing */
    .slip-page {
      page-break-after: always;
    }
    .slip-page:last-child {
      page-break-after: auto;
    }
  </style>
</head>
<body>
  {% for m in month_labels %}
    <div class="slip-page">
      {# Include the original salary slip template; pass month=m #}
      {% include 'documents/salary_slip.html' with context %}
      {# salary_slip.html expects 'month' in context, so set it before include #}
      {% set month = m %}
    </div>
  {% endfor %}
</body>
</html>

{% for m in month_labels %}
  {% set month = m %}
  <div class="slip-page">
    {% include 'documents/salary_slip.html' %}
  </div>
{% endfor %}
